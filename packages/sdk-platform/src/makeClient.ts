import { Client as CoreClient } from '@spree/core-api-v2-sdk'
import type { IClientConfig } from '@spree/core-api-v2-sdk'
import {
  Addresses,
  Adjustments,
  Authentication,
  Classifications,
  Countries,
  Pages,
  Sections,
  DataFeeds,
  Digitals,
  Links,
  Items,
  Menus,
  MenuItems,
  OptionTypes,
  OptionValues,
  Orders,
  Payments,
  PaymentMethods,
  Products,
  Promotions,
  PromotionActions,
  PromotionCategories,
  PromotionRules,
  Roles,
  Shipments,
  ShippingCategories,
  ShippingMethods,
  States,
  StockItems,
  StockLocations,
  StoreCreditCategories,
  StoreCreditTypes,
  StoreCredits,
  TaxCategories,
  TaxRates,
  Taxons,
  Taxonomies,
  Users,
  Variants,
  WebhookEvents,
  WebhookSubscribers,
  Wishlists,
  WishedItems,
  Zones
} from './endpoints'

const endpoints = {
  addresses: Addresses,
  adjustments: Adjustments,
  authentication: Authentication,
  classifications: Classifications,
  countries: Countries,
  pages: Pages,
  sections: Sections,
  dataFeeds: DataFeeds,
  digitals: Digitals,
  links: Links,
  items: Items,
  menus: Menus,
  menuItems: MenuItems,
  optionTypes: OptionTypes,
  optionValues: OptionValues,
  orders: Orders,
  payments: Payments,
  paymentMethods: PaymentMethods,
  products: Products,
  promotions: Promotions,
  promotionActions: PromotionActions,
  promotionCategories: PromotionCategories,
  promotionRules: PromotionRules,
  roles: Roles,
  shipments: Shipments,
  shippingCategories: ShippingCategories,
  shippingMethods: ShippingMethods,
  states: States,
  stockItems: StockItems,
  stockLocations: StockLocations,
  storeCreditCategories: StoreCreditCategories,
  storeCreditTypes: StoreCreditTypes,
  storeCredits: StoreCredits,
  taxCategories: TaxCategories,
  taxRates: TaxRates,
  taxons: Taxons,
  taxonomies: Taxonomies,
  users: Users,
  variants: Variants,
  webhookEvents: WebhookEvents,
  webhookSubscribers: WebhookSubscribers,
  wishlists: Wishlists,
  wishedItems: WishedItems,
  zones: Zones
}

type Endpoints = {
  [key in keyof typeof endpoints]: InstanceType<typeof endpoints[key]>
}
type Client = CoreClient & Endpoints

const makeClient = (config: IClientConfig): Client => new CoreClient(config, endpoints) as Client

export type { Client, Endpoints }
export default makeClient
